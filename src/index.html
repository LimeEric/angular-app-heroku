<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AngularAppHeroku</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <app-root></app-root>
  <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
  <df-messenger
    intent="WELCOME"
    chat-title="DIRK - Your Virtual Assistant"
    agent-id="249da6ce-8a45-4044-8d6e-f08d3a4bebfd"
    language-code="de"
    chat-icon="https://i.ibb.co/crsHWD0/Avatar-Maker.png"
  ></df-messenger>
  <script> 
    const dfMessenger = document.querySelector('df-messenger');
    dfMessenger.addEventListener('df-response-received', function (event) {
      
      console.log(event);
        if (event.detail.response) {
            data = event.detail.response;
            console.log(data.queryResult.action);
            //now do something with the data JSON object
        }

        if (data.queryResult.action == "input.welcome"){
          //...
          console.log("das klappt");
        }

        if (data.queryResult.intent.displayName == "tools.Spritzwetter"){
          //...
          console.log("das klappt auch");
        }
    });
  </script>
</body>
</html>
